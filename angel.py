#!/usr/bin/env python3
# -----------------------------------------------------------------------------
# imports
# -----------------------------------------------------------------------------
from sys           import argv
# ---------------------------------------------------------
# base
# ---------------------------------------------------------
from space_angel   import Angel
# ---------------------------------------------------------
# decorators
# ---------------------------------------------------------
from space_angel    import git_angel
from space_angel    import terminal_gate
# -----------------------------------------------------------------------------
# process
# -----------------------------------------------------------------------------
@git_angel
class MyAngel(Angel):
    def _pipeline(self):
        # ---------------------------------------------------------
        # build
        # ---------------------------------------------------------
        @self.gate('build')
        @terminal_gate
        def build(self, data):
            # build code
            print(self.terminal.build())
            return data
        # ---------------------------------------------------------
        # test
        # ---------------------------------------------------------
        @self.gate('test')
        def test(self, data):
            print("test")
            return data
        # ---------------------------------------------------------
        # report
        # ---------------------------------------------------------
        @self.gate('report')
        #@markdown_gate
        def report(self, data):
            print("report")
            return data
# -----------------------------------------------------------------------------
# main
# -----------------------------------------------------------------------------
if __name__ == '__main__':
    MyAngel(argv[1]).run()
